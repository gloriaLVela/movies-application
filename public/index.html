<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>My Application</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
          integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Indie+Flower%7CSource+Code+Pro&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/style.css"/>
<!--    <script src="src/keys.js"></script>-->
    <script src="../src/keys.js"></script>


</head>
<body id='test' onload="myFunction()" >
<div id="loader"><img src="img/Spinner-1s-200px.gif" alt=""></div>
<div class="container  mh-100" style="display:none;" id="myDiv">
    <div class="col-md-12 text-center"><h1 style="align-content: center">MOVIE RATINGS</h1></div>
    <div  class="col-md-12">
        <div class="alert alert-primary" role="alert" id="loading">
            loading...
        </div>
    </div>
    <div id="movie-content" class="row">
        <div class="col-md-12">
            <div class="row">
                <!-- Left side -->
                <div id = "left-pane" class="col-md-8">
                    <div class="row l mb-3" id="movie-list">
                    </div>
                </div>
                <!-- Right side -->
                <div class="right-pane col-md-4 mt-3">
                    <div>
                        <div >

                            <form  class="rcorners1">
                                <h5 class="mt-2" style="text-align: center">ADD NEW MOVIE</h5>
                                <label>Movie Name</label>
                                <input class="form-control" type="text" id="movie-name" name="movie-name"><br>
                                <input type="hidden" id="rating">
                                <div class="text-center h3   stars-bck">
                                    <span class="fa fa-star" id="star1" onclick="add(this,1)"></span>
                                    <span class="fa fa-star" id="star2" onclick="add(this,2)"></span>
                                    <span class="fa fa-star" id="star3" onclick="add(this,3)"></span>
                                    <span class="fa fa-star" id="star4" onclick="add(this,4)"></span>
                                    <span class="fa fa-star" id="star5" onclick="add(this,5)"></span>
                                </div>
                                <input class=" btn btn-success btn-lg btn-block" id="add-movie" type="submit"/>
                            </form>
                        </div>
                        <div>

                            <form class="rcorners1">
                                <h5 class="mt-2" style="text-align: center">UPDATE MOVIE</h5>
                                <label >Movie Name</label>
                                <input class="form-control" type="text" id="new-name" name="movie-name"><br>

                                <input type="hidden" id="new-rating">
                                <div class="stars-bck">
                                <div class="text-center h3 mb-3 stars-bck">
                                    <span class="fa fa-star" id="new-star1" onclick="update(this,1)"></span>
                                    <span class="fa fa-star" id="new-star2" onclick="update(this,2)"></span>
                                    <span class="fa fa-star" id="new-star3" onclick="update(this,3)"></span>
                                    <span class="fa fa-star" id="new-star4" onclick="update(this,4)"></span>
                                    <span class="fa fa-star" id="new-star5" onclick="update(this,5)"></span>
                                </div>

                                <input type="hidden" id="updateMovieID">
                                <input class=" btn btn-success btn-lg btn-block" id="update-movie" type="submit"/>
                                </div>
                            </form>
                        </div>
                        <div>Feature</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<input type="hidden" id="lastID" value="0">

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
        crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
<style>
    body {
        margin: 0;
    }
</style>

<script src="./main.js"></script>
<script>
    let myVar;

    function myFunction() {
        myVar = setTimeout(showPage, 5000);
    }

    function showPage() {
        document.getElementById("loader").style.display = "none";
        document.getElementById("myDiv").style.display = "block";
    }
    function add(ths, sno) {
console.log(ths);
console.log(sno);
        for (var i = 1; i <= 5; i++) {
            var cur = document.getElementById("star" + i)
            cur.className = "fa fa-star"
        }

        for (var i = 1; i <= sno; i++) {
            var cur = document.getElementById("star" + i)
            if (cur.className == "fa fa-star") {
                cur.className = "fa fa-star checked"
            }
        }
        document.getElementById('rating').value = sno;
    }

    function update(ths, sno) {
        console.log(ths);
        console.log(sno);
        //turns stars to black
        for (var i = 1; i <= 5; i++) {
            var cur = document.getElementById("new-star" + i)
            cur.className = "fa fa-star"
        }
        //change stars to orange
        for (var i = 1; i <= sno; i++) {
            var cur = document.getElementById("new-star" + i)
            if (cur.className == "fa fa-star") {
                cur.className = "fa fa-star checked"
            }
        }
        document.getElementById('new-rating').value = sno;
    }
</script>

</body>
</html>
