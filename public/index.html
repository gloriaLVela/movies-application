<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>My Application</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
          integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Indie+Flower%7CSource+Code+Pro&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/style.css"/>
    <!--    <script src="src/keys.js"></script>-->
    <script src="../src/keys.js"></script>
    <script src="jquery.js"></script>


</head>
<body id='test' onload="myFunction()">
<div id="loader"><img src="img/Spinner-1s-200px.gif" alt=""></div>
<div class="container  mh-100" style="display:none;" id="myDiv">
    <div class="col-md-12 text-center"><h1 style="align-content: center">MOVIE RATINGS</h1></div>
    <div class="col-md-12">
        <div class="alert alert-primary" role="alert" id="loading">
            loading...
        </div>
    </div>
    <div id="movie-content" class="row">
        <div class="col-md-12">
            <div class="row">
                <!-- Left side -->
                <div id="left-pane" class="col-md-8">
                    <div class="row l mb-3" id="movie-list">
                    </div>
                </div>
                <!-- Right side -->
                <div class="right-pane col-md-4 mt-3">
                    <div>
                        <div>

                            <form class="rcorners1">
                                <h5 class="mt-2" style="text-align: center">ADD NEW MOVIE</h5>
                                <label>Movie Name</label>
                                <input class="form-control" type="text" id="movie-name" name="movie-name">
                                <br>
                                <input type="hidden" id="rating">
                                <!--                                <div class="text-center h3   stars-bck">-->
                                <!--                                    <span class="fa fa-star" id="star1" onclick="add(this,1)"></span>-->
                                <!--                                    <span class="fa fa-star" id="star2" onclick="add(this,2)"></span>-->
                                <!--                                    <span class="fa fa-star" id="star3" onclick="add(this,3)"></span>-->
                                <!--                                    <span class="fa fa-star" id="star4" onclick="add(this,4)"></span>-->
                                <!--                                    <span class="fa fa-star" id="star5" onclick="add(this,5)"></span>-->
                                <!--                                    <span class="fa fa-star" id="star6" onclick="add(this,6)"></span>-->
                                <!--                                    <span class="fa fa-star" id="star7" onclick="add(this,7)"></span>-->
                                <!--                                    <span class="fa fa-star" id="star8" onclick="add(this,8)"></span>-->
                                <!--                                    <span class="fa fa-star" id="star9" onclick="add(this,9)"></span>-->
                                <!--                                    <span class="fa fa-star" id="star10" onclick="add(this,10)"></span>-->
                                <!--                                </div>-->
                                <input class=" btn btn-success btn-lg btn-block" id="add-movie" type="submit"/>
                            </form>
                        </div>
                        <div>

                            <form class="rcorners1" id="update-form" style="display: none">
                                <h5 class="mt-2" style="text-align: center">UPDATE MOVIE</h5>
                                <label>Movie Name</label>
                                <input class="form-control" type="text" id="new-name" name="movie-name"><br>

                                <input type="hidden" id="new-rating">
                                <!--                                <div class="stars-bck">-->
                                <!--                                <div class="text-center h3 mb-3 stars-bck">-->
                                <!--                                    <span class="fa fa-star" id="new-star1" onclick="update(this,1)"></span>-->
                                <!--                                    <span class="fa fa-star" id="new-star2" onclick="update(this,2)"></span>-->
                                <!--                                    <span class="fa fa-star" id="new-star3" onclick="update(this,3)"></span>-->
                                <!--                                    <span class="fa fa-star" id="new-star4" onclick="update(this,4)"></span>-->
                                <!--                                    <span class="fa fa-star" id="new-star5" onclick="update(this,5)"></span>-->
                                <!--                                    <span class="fa fa-star" id="new-star6" onclick="update(this,1)"></span>-->
                                <!--                                    <span class="fa fa-star" id="new-star7" onclick="update(this,2)"></span>-->
                                <!--                                    <span class="fa fa-star" id="new-star8" onclick="update(this,3)"></span>-->
                                <!--                                    <span class="fa fa-star" id="new-star9" onclick="update(this,4)"></span>-->
                                <!--                                    <span class="fa fa-star" id="new-star10" onclick="update(this,5)"></span>-->
                                <!--                                </div>-->

                                <input type="hidden" id="updateMovieID">
                                <input class=" btn btn-success btn-lg btn-block" id="update-movie" type="submit" />

                            </form>
                        </div>

                        <div>

                            <form class="rcorners1">
                                <h5 class="mt-2" style="text-align: center">SEARCH MOVIE</h5>
                                <div><label>Rating</label></div>
                                <div id="search-rating">
                                    <div id="movie-rating">
                                        <div><input type="checkbox" value="G" id="G" class="rating" name="rating">&nbsp;<label for="G"> G</label> </div>
                                        <div><input type="checkbox" value="N/A" id="NA" class="rating" name="rating">&nbsp;<label
                                                for="NA"> N/A</label></div>
                                        <div><input type="checkbox" value="PG" id="PG" class="rating" name="rating">&nbsp;<label
                                                for="PG">PG</label></div>
                                        <div><input type="checkbox" value="PG-13" id="PG13" class="rating" name="rating">&nbsp;<label
                                                for="PG13">PG-13</label></div>
                                        <input type="hidden" id="selectedRating" value="">
                                    </div>
                                    <div><label>Genre</label>
                                        <div id="genre-rating">
                                            <div><input type="checkbox" value="Action" id="Action" class="genre">&nbsp;
                                                <label for="Action">Action</label>
                                            </div>
                                            <div><input type="checkbox" value="Adventure" id="Adventure" class="genre">&nbsp;<label
                                                    for="Adventure">Adventure</label>
                                            </div>
                                            <div><input type="checkbox" value="Drama" id="Drama" class="genre">&nbsp;<label
                                                    for="Drama">Drama</label>
                                            </div>
                                            <div><input type="checkbox" value="Fantasy" id="Fantasy" class="genre">&nbsp;<label
                                                    for="Fantasy">Fantasy</label>

                                            </div>
                                            <div><input type="checkbox" value="Sci-Fi" id="Sci-Fi" class="genre">&nbsp;<label
                                                    for="Sci-Fi">Sci-Fi</label>
                                            </div>
                                            <div><input type="checkbox" value="Comedy" id="Comedy" class="genre">&nbsp;<label
                                                    for="Comedy">Comedy</label>
                                            </div>
                                            <div><input type="checkbox" value="Short" id="Short" class="genre">&nbsp;<label
                                                    for="Short">Short</label>
                                            </div>
                                            <div><input type="checkbox" value="Romance" id="Romance" class="genre">&nbsp;<label
                                                    for="Romance">Romance</label>
                                            </div>
                                            <div><input type="checkbox" value="Animation" id="Animation" class="genre">
                                                Animation
                                            </div>
                                            <div><input type="checkbox" value="Family" id="Family" class="genre"> Family
                                            </div>
                                            <div><input type="checkbox" value="Musical" id="Musical" class="genre">
                                                Musical
                                            </div>
                                            <input type="hidden" id="selectedGenre" value="">
                                        </div>
                                    </div>

                                    <input class=" btn btn-success btn-lg btn-block" id="search-movie" type="submit"/>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<input type="hidden" id="lastID" value="0">

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
        crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
<style>
    body {
        margin: 0;
    }
</style>

<script src="./main.js"></script>
<script>
    let myVar;

    function myFunction() {
        myVar = setTimeout(showPage, 5000);
    }

    function showPage() {
        document.getElementById("loader").style.display = "none";
        document.getElementById("myDiv").style.display = "block";
    }

    /**
     *  Movie rating
     *
     * */

    $('#G, #NA, #PG, #PG13').click(function () {
        /**
         *
         * Find the selected ratings
         */
        let selectedMovieRatings = document.getElementsByClassName("rating");

        let movieRatings = Array.from(selectedMovieRatings);
        //console.log(movieRatings);

        let includeMovieRatings = movieRatings.filter(function (checkBox) {
            return (checkBox["checked"] === true);
        });

        includeMovieRatings = includeMovieRatings.map(rating => {
            return rating.value;
        });

        console.log(includeMovieRatings);

        document.getElementById('selectedRating').value = includeMovieRatings;

    });


    /**
     *  Movie genre
     *
     * */

    $('#Action, #Adventure, #Drama, #Fantasy, #Sci-Fi, #Comedy, #Short, #Romance, #Animation, #Family, #Musical').click(function () {

        /**
         *
         * Find the selected genre
         */

        let selectedMovieGenre = document.getElementsByClassName("genre");

        let movieGenre = Array.from(selectedMovieGenre);

        let includeMovieGenre = movieGenre.filter(function (checkBox) {
            return (checkBox["checked"] === true);
        });

        includeMovieGenre = includeMovieGenre.map(rating => {
            return rating.value;
        });

        console.log(includeMovieGenre);

        document.getElementById('selectedGenre').value = includeMovieGenre;

    });


    // function add(ths, sno) {
    //     console.log(ths);
    //     console.log(sno);
    //     for (var i = 1; i <= 5; i++) {
    //         var cur = document.getElementById("star" + i)
    //         cur.className = "fa fa-star"
    //     }
    //
    //     for (var i = 1; i <= sno; i++) {
    //         var cur = document.getElementById("star" + i)
    //         if (cur.className == "fa fa-star") {
    //             cur.className = "fa fa-star checked"
    //         }
    //     }
    //     document.getElementById('rating').value = sno;
    // }
    //
    // function update(ths, sno) {
    //     console.log(ths);
    //     console.log(sno);
    //     //turns stars to black
    //     for (var i = 1; i <= 5; i++) {
    //         var cur = document.getElementById("new-star" + i)
    //         cur.className = "fa fa-star"
    //     }
    //     //change stars to orange
    //     for (var i = 1; i <= sno; i++) {
    //         var cur = document.getElementById("new-star" + i)
    //         if (cur.className == "fa fa-star") {
    //             cur.className = "fa fa-star checked"
    //         }
    //     }
    //     document.getElementById('new-rating').value = sno;
    // }
</script>

</body>
</html>
